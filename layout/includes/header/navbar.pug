nav.navbar
  .sitetitle
    a(href=config.root)
      case theme.custom.ui.navbar.icon
        when 'favicon'
          img(src=url_for(theme.info.favicon) alt='sitetitle_img')
        when 'avatar'
          img(src=url_for(theme.info.favicon) alt='sitetitle_img')
        when false
          div
        default
          img(src=url_for(theme.custom.ui.navbar.icon) alt='sitetitle_img')
      case theme.custom.ui.navbar.text
        when 'default'
          span=config.title
        when false
          span
        default
          span=theme.custom.ui.navbar.text

  if theme.menu
    .nav_menu
      div(class='menu_items')
        each content, label in theme.menu
          if typeof content == 'object'
            div(class='menu_item')
              //- - var nextThing = label.split(', ')[2] ? href=label.split(', ')[2] : ''
              //- a(nextThing)
              //- a(class=label.split(', ')[2])
              div
                i(class=label.split(', ')[1]+' fa-fw')
                span=label.split(', ')[0]
                div(class='sub_menu')
                  each subcontent, sublabel in content
                    div(class='sub_menu_item')
                      a(href=subcontent.split(', ')[0])
                        i(class=subcontent.split(', ')[1]+' fa-fw')
                        span=sublabel
          else
            div(class='menu_item')
              a(href=content.split(', ')[0])
                i(class=content.split(', ')[1]+' fa-fw')
                span=label