//- 标题
- var pageTitle = page.title || ''
- if (is_archive()) pageTitle = _p('page_title.archive') + ' | '
- if (is_tag()) pageTitle = _p('page_title.tag') + page.tag + ' | '
- if (is_category()) pageTitle = _p('page_title.category') + page.category + ' | '
- if (is_month()) pageTitle = _p('page_title.archive') + _p('page_title.colon') + page.month + '/' + page.year + ' | '  //- a bug here
- if (is_year()) pageTitle = _p('page_title.archive') + _p('page_title.colon') + page.month + '/' + page.year + ' | '
//- - if (is_year()) pageTitle = _p('page_title.archive') + _p('page_title.colon') + page.year + ' | '
- pageTitle += config.title + (config.subtitle ? ' | ' + config.subtitle : "")

//- 位置
- var what_is_this_page = 'page'
- if (is_home()) what_is_this_page = 'home'
- if (is_post()) what_is_this_page = 'post'

//- 设置
- var global_back_btn = theme.custom.back_buttom
- var user_scalable = theme.custom.user_scalable ? "" : ", user-scalable=no"

//- 颜色模式
- var color_scheme = no-preference //- light dark

//- js 相关设置
- var jsC_navFold = theme.custom.navbar.auto_folding ? "jsC_navFold" : ""

doctype html
html(lang=config.language prefers-color-scheme=color_scheme)
  head
    //- 基本信息
    meta(charset='UTF-8')
    title= pageTitle
    link(rel="icon" href=theme.info.favicon)
    meta(name="viewport" content="width=device-width" + user_scalable)
    meta(name="description" content=config.description)
    //- 引入 js 设置
    include ./config.pug
    //- 引用CDN
    link(rel='stylesheet', href=theme.CDN.mainCss)
    script(type="text/javascript" src=theme.CDN.mainJs)
    link(rel='stylesheet', href=theme.CDN.fontawesome)
    if theme.third_party.busuanzi
      script(async src=theme.CDN.busuanzi)
    //- link(rel='stylesheet', href=theme.CDN.highlight_js_css)
    //- script(src=theme.CDN.highlight_js_js)
  body(where=what_is_this_page)
    #jsConfig(class=jsC_navFold)
    include ./skipToContentButtom.pug
    include ./header/header.pug
    #content-outer
      #content-inner
        if body
          div!= body
        else
          block content
          if (theme.custom.sidebar.enable) && (theme.custom.sidebar.items)
            .side_column
              .sidebar_items
                include ./sidebar/sidebar.pug
    //- .before_footer
    footer
      span Site construction by
      span= ' ' + config.author + ' '
      span using 
      a(href='http://hexo.io')
        span=_p('footer.frame') + ' hexo '
      a(href='https://github.com/JonnyJong/hexo-theme-apha/')
        span=_p('footer.theme') + ' Apha '
      span .
        //- br
        //- a(href=config.root) Home
    //- if theme.scripts !== undefined && theme.scripts.length > 0
      //- scripts list from config.yml
      //- each url in theme.scripts
      //-   script(src=url)
